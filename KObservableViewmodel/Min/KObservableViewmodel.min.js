var KObservableViewmodel=function(){var D=function(){return function(z,u,A){function k(a,d,b,f,B,c){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=!0};this.local=a;this.key=d;this.arguments=c;this.type=b;this.name=a.__kbname;this.root=a.__kbref;this.scope=a.__kbscopeString;this.parent=a.___kbImmediateParent;this.value=f;this.oldValue=B}function q(a,d,b,f){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=
function(){this._preventDefault=!0};this.type=a;this.key=d;this.event=b;this.args=f}function l(a,d){var b=p[d];return function(d,B){var c=new k(this,h(b)?d:"",a,h(b)?this[d]:"",h(b)?this[d]:"",arguments),c=new q(a,h(b)?d:"",c,arguments),x;!0!==n(c)&&(h(b)?(void 0===b[c.key]&&(b[c.key]=[]),x=b[c.key],x.push(c.args[1])):t(b)&&(void 0===b["*"]&&(b["*"]=[]),x=c.args[1]&&"*"===c.args[1]?b["*"]:b,x.push(c.args[0])));return this}}function w(a,d){var b=p[d];return function(d,B){var c=new k(this,d,a,this[d],
this[d],arguments),c=new q(a,d,c,arguments),x;if(!0!==n(c))if(h(b)){if(x=b[c.key])for(var e=0,g=x.length;e<g;e++)if(x[e].toString()===c.args[1].toString()){x.splice(e,1);break}}else if(t(b))for(void 0===b["*"]&&(b["*"]=[]),x=c.args[1]&&"*"===c.args[1]?b["*"]:b,e=0,g=x.length;e<g;e++)if(x[e].toString()===c.args[0].toString()){x.splice(e,1);break}return this}}function h(a){return"object"===typeof a&&!!a&&a.constructor.toString()===Object.toString()}function t(a){return"object"===typeof a&&!!a&&a.constructor.toString()===
Array.toString()}function e(a,d,b){return{get:function(){return a[d]},set:function(b){a[d]=b},enumerable:b.enumerable,configurable:b.configurable}}function c(a,d,b){return{value:a,writable:!!d,enumerable:!1,configurable:!!b}}function g(a,d){var b=a,f=a,B=function(a,d){f=b;b=a;d.listener="__kbupdatelisteners";d.type="update";v(d)};return{get:function(){return b},set:function(a,c){var e=new k(this,d,"set",a,b,arguments,"__kblisteners");c?B(a,e):!0!==v(e)&&(B(a,e),this.callSubscribers(d,b,f))},configurable:!0,
enumerable:!0}}var p=[],m={},y={splice:[],postsplice:[],push:[],postpush:[],pop:[],postpop:[],shift:[],postshift:[],unshift:[],postunshift:[],fill:[],postfill:[],reverse:[],postreverse:[],sort:[],postsort:[],add:[],postadd:[],set:[],postset:[],remove:[],postremove:[],subscribe:[],unsubscribe:[],addDataListener:[],removeDataListener:[],addDataUpdateListener:[],removeDataUpdateListener:[],addDataCreateListener:[],removeDataCreateListener:[],addDataRemoveListener:[],removeDataRemoveListener:[]},n=function(a){for(var d=
0,b=y[a.type],f=b.length;d!==f&&(b[d](a),!a._stopPropogration);d++);return a._preventDefault},r=function(a,d){if(!d._stopPropogration&&a)for(var b=0,f=a.length;b!==f&&(a[b](d),!d._stopPropogration);b++);},v=function(a){var d=a.local[a.listener];h(d)?(r(d[a.key],a),"__kblisteners"===a.listener?(r(d["*"],a),a.fromListener="__kblisteners",a.listener="__kbparentlisteners",r(a.local[a.listener][a.key],a),r(a.local[a.listener]["*"],a)):"__kbupdatelisteners"===a.listener&&(r(d["*"],a),a.fromListener="__kbupdatelisteners",
a.listener="__kbparentupdatelisteners",r(a.local[a.listener][a.key],a),r(a.local[a.listener]["*"],a))):t(d)&&(r(d,a),r(d["*"],a));return a._preventDefault};Object.defineProperties(p,{__kbname:c(z||"",!0,!0),__kbref:c(u?u.__kbref||u:p,!0,!0),__kbscopeString:c(A||"",!0,!0),__kbImmediateParent:c(u||null,!0,!0),splice:c(function(a,d,b){var f=new k(this,a,"splice",this[a],void 0,arguments,"__kbdatadeletelisteners"),c=new q("splice",a,f,arguments);if(!0!==n(c)){var e=[],h=t(c.args[2]),l=void 0!==c.args[2]?
h?c.args[2].length:1:0,m=0;if(0!==d&&void 0!==this[c.key-1+c.args[1]]){for(var p=0,w=c.args[1];p<w;p++)if(m=c.key+p,f.key=m,f.type="remove",f.value=this[m],!0!==v(f)){e.push(this[m-e.length]);for(var r=c.key,u=this.length-1;r<u;r++)this[r]=this[r+1]}else--c.args[1];this.length-=c.args[1]}if(0!==l)for(h||(c.args[2]=[c.args[2]]),p=0,w=l;p<w;p++)if(m=c.key+p,f.key=m,f.type="add",f.listener="__kbdatacreatelisteners",f.value=c.args[2][p],!0!==v(f)){r=this.length;for(u=m;r>u;r--)void 0===this[r]?Object.defineProperty(this,
r,g.call(this,this[r-1],r)):this[r]=this[r-1];this[m]=c.args[2][p]}c.type="postsplice";n(c)}return e}),push:c(function(a){var d=new k(this,this.length,"push",a,void 0,arguments,"__kbdatacreatelisteners"),b=new q("push",this.length,d,arguments);!0!==n(b)&&(d.type="add",d.value=b.args[0],d.key=b.key,!0!==v(d)&&(Object.defineProperty(this,b.key,g.call(this,b.args[0],b.key)),b.type="postpush",n(b)));return this.length}),pop:c(function(){var a=new k(this,this.length-1,"pop",this[this.length-1],void 0,
arguments,"__kbdatadeletelisteners"),d=new q("pop",this.length-1,a,arguments);if(!0!==n(d)){var b=this[this.length-1];a.type="remove";if(!0!==v(a))return--this.length,d.type="postpop",n(d),b}return null}),shift:c(function(){var a=new k(this,0,"shift",this[0],void 0,arguments,"__kbdatadeletelisteners"),d=new q("shift",0,a,arguments);if(!0!==n(d)){var b=this[d.key];a.type="remove";a.key=d.key;if(!0!==v(a)){for(var a=d.key,f=this.length-1;a<f;a++)this[a]=this[a+1];--this.length;d.type="postshift";n(d);
return b}}return null}),unshift:c(function(){var a=new k(this,0,"unshift",this[0],void 0,arguments,"__kbdatacreatelisteners"),d=new q("unshift",0,a,arguments);if(!0!==n(d)){for(var b=Array.prototype.slice.call(d.args),f=0,c=b.length;f<c;f++)a.key=f,a.type="add",a.value=b[f],!0===v(a)&&b.splice(f,1);if(0!==b.length){f=this.length-1+b.length;for(c=b.length;-1!==f;f--)f<c?this[f]=b[f]:void 0!==Object.getOwnPropertyDescriptor(this,f).value?Object.defineProperty(this,f,g.call(this,this[f-b.length],f)):
this[f]=this[f-b.length];d.type="postunshift";n(d)}}return this.length}),fill:c(function(a,d,b){var f=void 0!==d?Math.max(0,d):0,c=new k(this,f,"fill",a,this[f],arguments,"__kbdatalisteners"),f=new q("fill",f,c,arguments);if(!0!==n(f)){for(c=f.key;c<f.args[2];c++)this[c]=f.args[0];f.type="postfill";n(f)}return this}),reverse:c(function(){var a=new k(this,0,"reverse",value,this[_start],arguments,"__kbdatalisteners"),a=new q("reverse",0,a,arguments);if(!0!==n(a)){for(var d=this.slice().reverse(),b=
0,f=this.length;b<f;b++)this[b]=d[b];a.type="postreverse";n(a)}return this}),sort:c(function(){var a=new k(this,0,"sort",value,this[_start],arguments,"__kbdatalisteners"),a=new q("sort",0,a,arguments);if(!0!==n(a)){for(var d=this.slice(),d=d.sort.apply(d,arguments),b=0,f=this.length;b<f;b++)this[b]=d[b];a.type="postsort";n(a)}return this}),add:c(function(a,d){var b=new k(this,a,"add",d,void 0,arguments,"__kbdatacreatelisteners"),f=new q("add",a,b,arguments);void 0===a?this.push(d):!0!==n(f)&&(void 0===
this[f.key]?!0!==v(b)&&(Object.defineProperty(this,f.key,g.call(this,f.args[1],f.key)),f.type="postadd",n(f)):console.error("Your attempting to add the index: ",f.key," that already exists on",this,"try using set or direct set instead"));return this}),prototype:c(function(a,d){void 0===this[a]?Object.defineProperty(this.__proto__,a,c(d,!0,!0)):console.error("Your attempting to add your prototype with the prop: ",a," that already exists");return this}),addPointer:c(function(a,d,b){var f=new k(this,
b||d,"add",a[d],void 0,arguments,"__kbdatacreatelisteners"),c=new q("add",b||d,f,arguments);!0!==n(c)&&!0!==v(f)&&(f=Object.getOwnPropertyDescriptor(a,d),Object.defineProperty(this,c.key,e(a,d,f)),c.type="postadd",n(c));return this}),set:c(function(a,d,b){var f=new k(this,a,"set",d,this[a],arguments,"__kblisteners"),c=new q("set",a,f,arguments);void 0===this[a]?this.add(a,d):!0!==n(c)&&(f.key=c.key,f.value=c.args[1],!0!==v(f)&&(void 0===Object.getOwnPropertyDescriptor(this,c.key).value?Object.getOwnPropertyDescriptor(this,
c.key).set(c.args[1],b):Object.defineProperty(this,c.key,g.call(this,c.args[1],c.key)),c.type="postset",n(c)));return this}),remove:c(function(a,d){var b=new k(this,a,"remove",this[a],this[a],arguments,"__kbdatadeletelisteners"),b=new q("remove",a,b,arguments);if(!0!==n(b)){if(void 0===this[b.key])return console.error("Your attempting to remove the index: ",b.key," that does not exist on ",this),this;this.splice(b.key,b.args[1])}return this}),stringify:c(function(){var a=[];return JSON.stringify(this,
function(d,b){if(t(b)||h(b)){if(-1!==a.indexOf(b))return;a.push(b)}return b})}),callSubscribers:c(function(a,d,b){if(void 0!==m[a])for(var f=0,c=m[a].length;f<c;f++)m[a][f](a,d,b);if(void 0!==m["*"])for(f=0,c=m["*"].length;f<c;f++)m["*"][f](a,d,b);return this}),subscribe:c(function(a,d){var b=new k(this,a,"subscribe",this[a],void 0,arguments),b=new q("subscribe",a,b,arguments);!0!==n(b)&&(void 0===m[b.key]&&(m[b.key]=[]),m[b.key].push(d));return this}),unsubscribe:c(function(a,d){var b=new k(this,
a,"unsubscribe",this[a],void 0,arguments),b=new q("unsubscribe",a,b,arguments);if(!0!==n(b)&&void 0!==m[b.key]){var f=0,c=m[b.key].length;a:for(;f<c;f++)if(m[b.key][f].toString()===d.toString()){m[b.key].splice(f,1);break a}}return this}),__kblisteners:c({}),__kbupdatelisteners:c({}),__kbparentlisteners:c({}),__kbparentupdatelisteners:c({}),__kbdatacreatelisteners:c([]),__kbdatadeletelisteners:c([]),addActionListener:c(function(a,d){-1!==Object.keys(y).indexOf(a)?y[a].push(d):console.error("There is no action listener by the name: ",
a);return this}),removeActionListener:c(function(a,d){if(-1!==Object.keys(y).indexOf(a))for(var b=0,f=y[a],c=f.length;b!==c;b++){if(f[b].toString()===d.toString()){f.splice(b,1);break}}else console.error("There is no action listener by the name: ",a);return this})});Object.defineProperties(p,{addDataListener:c(l("__kblisteners")),removeDataListener:c(w("__kblisteners")),addDataUpdateListener:c(l("__kbupdatelisteners")),removeDataUpdateListener:c(w("__kbupdatelisteners")),addDataCreateListener:c(l("__kbdatacreatelisteners")),
removeDataCreateListener:c(w("__kbdatacreatelisteners")),addDataRemoveListener:c(l("__kbdatadeletelisteners")),removeDataRemoveListener:c(w("__kbdatadeletelisteners"))});return p}}(),E=function(){return function(z,u,A){function k(a,d,b,f,c,e,h){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=!0};this.local=a;this.key=d;this.arguments=e;this.type=b;this.listener=h;this.name=a.__kbname;this.root=a.__kbref;this.scope=a.__kbscopeString;this.parent=
a.___kbImmediateParent;this.value=f;this.oldValue=c}function q(a,d,b,f){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=!0};this.type=a;this.key=d;this.event=b;this.args=f}function l(a,d){var b=p[d];return function(d,c){var e=new k(this,h(b)?d:"",a,h(b)?this[d]:"",h(b)?this[d]:"",arguments),e=new q(a,h(b)?d:"",e,arguments),g;!0!==n(e)&&(h(b)?(void 0===b[e.key]&&(b[e.key]=[]),g=b[e.key],g.push(e.args[1])):t(b)&&(void 0===b["*"]&&(b["*"]=
[]),g=e.args[1]&&"*"===e.args[1]?b["*"]:b,g.push(e.args[0])));return this}}function w(a,d){var b=p[d];return function(d,c){var e=new k(this,d,a,this[d],this[d],arguments),e=new q(a,d,e,arguments),g;if(!0!==n(e))if(h(b)){if(g=b[e.key])for(var l=0,m=g.length;l<m;l++)if(g[l].toString()===e.args[1].toString()){g.splice(l,1);break}}else if(t(b))for(void 0===b["*"]&&(b["*"]=[]),g=e.args[1]&&"*"===e.args[1]?b["*"]:b,l=0,m=g.length;l<m;l++)if(g[l].toString()===e.args[0].toString()){g.splice(l,1);break}return this}}
function h(a){return"object"===typeof a&&!!a&&a.constructor.toString()===Object.toString()}function t(a){return"object"===typeof a&&!!a&&a.constructor.toString()===Array.toString()}function e(a,d,b){return{get:function(){return a[d]},set:function(b){a[d]=b},enumerable:b.enumerable,configurable:b.configurable}}function c(a,d,b){return{value:a,writable:!!d,enumerable:!1,configurable:!!b}}function g(a,d){var b=a,c=a,e=function(a,d){c=b;b=a;d.listener="__kbupdatelisteners";d.type="update";v(d)};return{get:function(){return b},
set:function(a,g){var h=new k(this,d,"set",a,b,arguments,"__kblisteners");g?e(a,h):!0!==v(h)&&(e(a,h),this.callSubscribers(d,b,c))},configurable:!0,enumerable:!0}}var p={},m={},y={add:[],postadd:[],set:[],postset:[],remove:[],postremove:[],subscribe:[],unsubscribe:[],addDataListener:[],removeDataListener:[],addDataUpdateListener:[],removeDataUpdateListener:[],addDataCreateListener:[],removeDataCreateListener:[],addDataRemoveListener:[],removeDataRemoveListener:[]},n=function(a){for(var d=0,b=y[a.type],
c=b.length;d!==c&&(b[d](a),!a._stopPropogration);d++);return a._preventDefault},r=function(a,d){if(!d._stopPropogration&&a)for(var b=0,c=a.length;b!==c&&(a[b](d),!d._stopPropogration);b++);},v=function(a){var d=a.local[a.listener];h(d)?(r(d[a.key],a),"__kblisteners"===a.listener?(r(d["*"],a),a.fromListener="__kblisteners",a.listener="__kbparentlisteners",r(a.local[a.listener][a.key],a),r(a.local[a.listener]["*"],a)):"__kbupdatelisteners"===a.listener&&(r(d["*"],a),a.fromListener="__kbupdatelisteners",
a.listener="__kbparentupdatelisteners",r(a.local[a.listener][a.key],a),r(a.local[a.listener]["*"],a))):t(d)&&(r(d,a),r(d["*"],a));return a._preventDefault};Object.defineProperties(p,{__kbname:c(z||"",!0,!0),__kbref:c(u?u.__kbref||u:p,!0,!0),__kbscopeString:c(A||"",!0,!0),__kbImmediateParent:c(u||null,!0,!0),add:c(function(a,d){var b=new k(this,a,"add",d,void 0,arguments,"__kbdatacreatelisteners"),c=new q("add",a,b,arguments);!0!==n(c)&&(void 0===this[c.key]?!0!==v(b)&&(Object.defineProperty(this,
c.key,g.call(this,c.args[1],c.key)),c.type="postadd",n(c)):console.error("Your attempting to add the property: ",c.key," that already exists on",this,"try using set or direct set instead"));return this}),addPointer:c(function(a,d,b){var c=new k(this,b||d,"add",a[d],void 0,arguments,"__kbdatacreatelisteners"),g=new q("add",b||d,c,arguments);!0!==n(g)&&!0!==v(c)&&(c=Object.getOwnPropertyDescriptor(a,d),Object.defineProperty(this,g.key,e(a,d,c)),g.type="postadd",n(g));return this}),prototype:c(function(a,
d){void 0===this[a]?Object.defineProperty(this.__proto__,a,c(d,!0,!0)):console.error("Your attempting to add the your method with the prop: ",a," that already exists");return this}),set:c(function(a,d,b){var c=new k(this,a,"set",d,this[a],arguments,"__kblisteners"),e=new q("set",a,c,arguments);void 0===this[a]?this.add(e.key,e.args[1]):!0!==n(e)&&(c.key=e.key,c.value=e.args[1],!0!==v(c)&&(void 0===Object.getOwnPropertyDescriptor(this,e.key).value?Object.getOwnPropertyDescriptor(this,e.key).set.call(this,
e.args[1],b):Object.defineProperty(this,e.key,g.call(this,e.args[1],e.key)),e.type="postset",n(e)));return this}),remove:c(function(a){var d=new k(this,a,"remove",this[a],this[a],arguments,"__kbdatadeletelisteners"),b=new q("remove",a,d,arguments);if(!0!==n(b)){if(void 0===this[b.key])return console.error("Your attempting to remove the property: ",b.key," that does not exist on ",this),this;!0!==v(d)&&(Object.defineProperty(this,b.key,{value:null,writable:!0,enumerable:!0,configurable:!0}),b.type=
"postremove",n(b))}return this}),stringify:c(function(){var a=[];return JSON.stringify(this,function(d,b){if(t(b)||h(b)){if(-1!==a.indexOf(b))return;a.push(b)}return b})}),callSubscribers:c(function(a,d,b){if(void 0!==m[a])for(var c=0,e=m[a].length;c<e;c++)m[a][c](a,d,b);if(void 0!==m["*"])for(c=0,e=m["*"].length;c<e;c++)m["*"][c](a,d,b);return this}),subscribe:c(function(a,d){var b=new k(this,a,"subscribe",this[a],void 0,arguments),b=new q("subscribe",a,b,arguments);!0!==n(b)&&(void 0===m[b.key]&&
(m[b.key]=[]),m[b.key].push(d));return this}),unsubscribe:c(function(a,d){var b=new k(this,a,"unsubscribe",this[a],void 0,arguments),b=new q("unsubscribe",a,b,arguments);if(!0!==n(b)&&void 0!==m[b.key]){var c=0,e=m[b.key].length;a:for(;c<e;c++)if(m[b.key][c].toString()===d.toString()){m[b.key].splice(c,1);break a}}return this}),__kblisteners:c({}),__kbupdatelisteners:c({}),__kbparentlisteners:c({}),__kbparentupdatelisteners:c({}),__kbdatacreatelisteners:c([]),__kbdatadeletelisteners:c([]),addActionListener:c(function(a,
d){-1!==Object.keys(y).indexOf(a)?y[a].push(d):console.error("There is no action listener by the name: ",a);return this}),removeActionListener:c(function(a,d){if(-1!==Object.keys(y).indexOf(a))for(var b=0,c=y[a],e=c.length;b!==e;b++){if(c[b].toString()===d.toString()){c.splice(b,1);break}}else console.error("There is no action listener by the name: ",a);return this}),onadd:c(function(){},!0),onremove:c(function(){},!0),onset:c(function(){},!0),onupdate:c(function(){},!0)});Object.defineProperties(p,
{addDataListener:c(l("addDataListener","__kblisteners")),removeDataListener:c(w("removeDataListener","__kblisteners")),addDataUpdateListener:c(l("addDataUpdateListener","__kbupdatelisteners")),removeDataUpdateListener:c(w("removeDataUpdateListener","__kbupdatelisteners")),addDataCreateListener:c(l("addDataCreateListener","__kbdatacreatelisteners")),removeDataCreateListener:c(w("removeDataCreateListener","__kbdatacreatelisteners")),addDataRemoveListener:c(l("addDataRemoveListener","__kbdatadeletelisteners")),
removeDataRemoveListener:c(w("removeDataRemoveListener","__kbdatadeletelisteners"))});return p}}(),C=function(z){return function(){var u=z("Model"),A={},k="id filters class sessionStorage localStorage store component".split(" "),q={ignore:function(l){-1===k.indexOf(l)&&k.push(l);return this},unignore:function(l){-1!==k.indexOf(l)&&k.splice(k.indexOf(l),1);return this},createViewModel:function(l,k,h,t){if(q.isRegistered(l)){var e=z(l),c=A[l];e.__proto__=void 0!==c.prototype?c.prototype:c.__proto__;
if(h){var g=0;h=Object.keys(h);for(var p=h.length;g<p;g++)e.isObservable(t,h[g])?e.addPointer(t,h[g]):e.add(h[g],t[h[g]])}if("function"===typeof c)for(c.apply(e,k),g=0,h=Object.keys(e),p=h.length;g<p;g++)e.isObservable(e,h[g])||e.set(h[g],e[h[g]]);else for(g=0,h=Object.keys(c),p=h.length;g<p;g++)e.isObservable(c,h[g])?(e[h[g]]&&e.remove(h[g]),e.addPointer(c,h[g])):e.set(h[g],c[h[g]]);if(t)for(g=0,h=Object.keys(t),p=h.length;g<p;g++)e.isObservable(t,h[g])?(void 0!==e[h[g]]&&e.remove(h[g]),e.addPointer(t,
h[g])):e.set(h[g],t[h[g]]);if(e.sessionStorage){if(k=sessionStorage.getItem(e.id||l))for(k=JSON.parse(k),g=0,h=Object.keys(k),p=h.length;g<p;g++)e.set(h[g],k[h[g]]);else sessionStorage.setItem(e.id||l,e.stringify());e.addChildDataUpdateListener("*",function(){sessionStorage.setItem(e.id||l,e.stringify())})}if(e.localStorage){if(k=localStorage.getItem(e.id||l))for(k=JSON.parse(k),g=0,h=Object.keys(k),p=h.length;g<p;g++)e.set(h[g],k[h[g]]);else localStorage.setItem(e.id||l,e.stringify());e.addChildDataUpdateListener("*",
function(){localStorage.setItem(e.id||l,e.stringify())})}e.store&&u.set(e.id||l,e);return e}console.error("There is no viewmodel by the name %o",l);return null},isRegistered:function(l){return void 0!==A[l]},register:function(l,k){A[l]=k;return this},model:function(l){return l?u[l]:u}};return q}}(function(z,u){return function(A,k){function q(a){return"[object Array]"===Object.prototype.toString.call(a)}function l(a){return"[object Object]"===Object.prototype.toString.call(a)}function w(a,b){return b?
a[b]?void 0===Object.getOwnPropertyDescriptor(a,b).value:!1:void 0!==a.__kbname}function h(a){return a.split(".").filter(function(a){return 0!==a.length})}function t(a,b){function c(a){b.splice(0,1);return 0===b.length?a:a[b[0]]?c(a[b[0]]):a}return(b=h(b))&&1!==b.length?c(a[b[0]]):b&&b.length?a[b[0]]:a}function e(a){var b=a.key.split(".");if(1===b.length&&"*"!==a.key)return!1;"*"!==a.key?(a.preventDefault(),t(a.event.local,b.slice(0,b.length-1).join("."))[a.type](b[b.length-1],a.args[1])):(a.preventDefault(),
-1!==a.type.toLowerCase().indexOf("update")?a.event.local.addChildDataUpdateListener("*",a.args[1]):a.event.local.addChildDataListener("*",a.args[1]))}function c(a){var b=a.key.split(".");if(1===b.length&&"*"!==a.key)return!1;if("*"!==a.key)a.preventDefault(),t(a.event.local,b.slice(0,b.length-1).join("."))[a.type](b[b.length-1],a.args[1]);else for(var b=Object.keys(a.event.local).filter(function(b){return l(a.event.local[b])||q(a.event.local[b])}),c=0,e=b.length;c<e;c++)a.event.local[b[c]].subscribe(a.key,
a.args[1])}function g(a){void 0===a.parseData&&a.prototype("parseData",v);void 0===a.isArray&&a.prototype("isArray",q);void 0===a.isObject&&a.prototype("isObject",l);void 0===a.isObservable&&a.prototype("isObservable",w);void 0===a.updateName&&a.prototype("updateName",y);void 0===a.getScopeByScopeString&&a.prototype("getScopeByScopeString",t);void 0===a.addChildDataListener&&a.prototype("addChildDataListener",p("__kbparentlisteners"));void 0===a.removeChildDataListener&&a.prototype("removeChildDataListener",
m("__kbparentlisteners"));void 0===a.addChildDataUpdateListener&&a.prototype("addChildDataUpdateListener",p("__kbparentupdatelisteners"));void 0===a.removeChildDataUpdateListener&&a.prototype("removeChildDataUpdateListener",m("__kbparentupdatelisteners"));return a.addActionListener("add",n).addActionListener("set",r).addActionListener("subscribe",c).addActionListener("unsubscribe",c).addActionListener("addDataListener",e).addActionListener("addDataUpdateListener",e).addActionListener("addDataCreateListener",
e).addActionListener("addDataRemoveListener",e).addActionListener("removeDataListener",e).addActionListener("removeDataUpdateListener",e).addActionListener("removeDataCreateListener",e).addActionListener("removeDataRemoveListener",e)}function p(a){return function(b,c){function e(b,c,f){var g=Object.keys(b).filter(function(a){return l(b[a])||q(b[a])});void 0===b[a][c]&&(b[a][c]=[]);b[a][c].push(f);for(var h=0,k=g.length;h<k;h++)e(b[g[h]],c,f)}e(this,b,c);return this}}function m(a){return function(b,
c){function e(b,c,f){var g=Object.keys(b).filter(function(a){return l(b[a])||q(b[a])}),h=0,k=b[a][c].length;a:for(;h<k;h++)if(b[a][c][h].toString()===f.toString()){b[a][c].splice(h,1);break a}h=0;for(k=g.length;h<k;h++)e(b[g[h]],c,f)}e(this,b,c);return this}}function y(c){"string"===typeof c&&(a.name=c);return this}function n(a){if((l(a.args[1])||q(a.args[1]))&&!w(a.args[1])){a.preventDefault();var b=a.event.local,c=b.__kbscopeString+(0!==b.__kbscopeString.length?".":"")+a.key,c=(l(a.args[1])?u:z)(b.__kbname,
b,c);b.add(a.key,c);g(b[a.key]).parseData(a.args[1])}}function r(a){if((l(a.args[1])||q(a.args[1]))&&!w(a.args[1])){a.preventDefault();var b=a.event.local,c=b.__kbscopeString+(0!==b.__kbscopeString.length?".":"")+a.key,c=(l(a.args[1])?u:z)(b.__kbname,b,c);b.set(a.key,c);g(b[a.key]).parseData(a.args[1])}}function v(a){for(var b=0,c=Object.keys(a),e=c.length;b<e;b++)this.set(c[b],a[c[b]]);return this}var a={name:A};_data=("string"===typeof k&&"array"===k.toLowercase()?z:u)(a.name,void 0,"").addPointer(a,
"name","__kbname");g(_data);return _data}}(D,E));window.define&&window.require?define([],function(){return C}):window.module&&(module.exports=C);return C}();
